query fetchMemberSubscriptions($firebaseId: String) {
  member(where: { firebaseId: $firebaseId }) {
    firebaseId
    email
    type
    subscription(orderBy: [{ periodEndDatetime: desc }]) {
      id
      orderNumber
      frequency
      periodFirstDatetime
      postId
      paymentMethod
      oneTimeEndDatetime
      isActive
      periodEndDatetime
      periodNextPayDatetime
      newebpayPayment(orderBy: [{ paymentTime: desc }]) {
        paymentMethod
        paymentTime
        amount
        cardInfoLastFour
      }
    }
  }
}
query fetchMemberBasicInfo($firebaseId: String) {
  member(where: { firebaseId: $firebaseId }) {
    id
    firebaseId
    email
    type
    tos
  }
}

mutation setMemberTosToTrue($id: ID!) {
  updatemember(id: $id, data: { tos: true }) {
    firebaseId
    email
    type
    tos
  }
}

mutation unsubscribe($id: ID!, $note: String) {
  updatesubscription(id: $id, data: { isCanceled: true, note: $note }) {
    id
    frequency
    isActive
    isCanceled
    note
  }
}
